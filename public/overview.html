<!--Code is heavily influenced by Dan Jackson practicals from CSC8604 Module-->

<!-- Simple html / css styling to make website navigatable and usable for users.-->

<!-- Code is similar to index and plant2 however, a different styling is used to simulate a phone/website overview
page.-->

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Website</title>
    <link rel="stylesheet" href="style3.css">
</head>
<body>
    
    <h1>Overview Of Your Plants</h1>
    <p>
        <span id="plantCond1"></span>
        
          <!-- A button to update the image to match the state the plant is in. It is possible to use
        setInterval/setTimeout to update image dyanamically however, this was not done in fear
      that it would overload Raspberry Pi -->
        <button onclick="updatePlant1(),updatePlant2()">Update Plants Status</button>
     
        



        <!-- Allows user to click on images to navigate to fullscreen page associated with that specfic plant/sensor-->    

    <div>
        <h1>Basil<h1>
        <a href='index.html'><img src='p1_08.jpg' id='plant1' alt='Error Fetching Status'/></a>  
        <br>
        <h1>Evelyn<h1>
        <a href='plant2.html'><img src='p2_08.jpg' id='plant2' alt='Error Fetching Status'/></a>
    </div> 

        <br>
        <br>
        <p>Status Of  <a href="plant2.html">Next Linked Plant</a>.</p>
        <p>Plants  <a href="overview.html">Overview</a>.</p>
        


    <!-- Code is same as index and plant2 however two images are being updated rather than one-->

    <script>
        async function updatePlant1() {
          const response = await fetch('/plantCond1')
          if (!response.ok) throw new Error('Failure during fetch')
          const result = await response.json()
          var imageSelect = result.plantCond1 
          var img1 = document.getElementById('plant1') 
          
          if (imageSelect == 1) img1.src='p1_01.jpg';
          if (imageSelect == 2) img1.src='p1_02.jpg';
          if (imageSelect == 3) img1.src='p1_03.jpg';
          if (imageSelect == 4) img1.src='p1_04.jpg';
          if (imageSelect == 5) img1.src='p1_05.jpg';
          if (imageSelect == 6) img1.src='p1_06.jpg';
          if (imageSelect == 7) img1.src='p1_07.jpg';
          if (imageSelect == 8) img1.src='p1_08.jpg';
        }

          async function updatePlant2() {
          const response = await fetch('/plantCond2')
          if (!response.ok) throw new Error('Failure during fetch')
          const result = await response.json()
          var imageSelect = result.plantCond2 
          var img2 = document.getElementById('plant2') 
          
          if (imageSelect == 1) img2.src='p2_01.jpg';
          if (imageSelect == 2) img2.src='p2_02.jpg';
          if (imageSelect == 3) img2.src='p2_03.jpg';
          if (imageSelect == 4) img2.src='p2_04.jpg';
          if (imageSelect == 5) img2.src='p2_05.jpg';
          if (imageSelect == 6) img2.src='p2_06.jpg';
          if (imageSelect == 7) img2.src='p2_07.jpg';
          if (imageSelect == 8) img2.src='p2_08.jpg';
        }
        </script>
</body>
</html>
